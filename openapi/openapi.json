{
  "openapi": "3.1.0",
  "info": {
    "title": "LightningRod API",
    "description": "Generate verified, grounded datasets at scale for LLM fine-tuning and evaluation",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "/api/public/v1"
    }
  ],
  "paths": {
    "/openai/chat/completions": {
      "post": {
        "tags": [
          "OpenAI Compatible"
        ],
        "summary": "Chat Completions",
        "description": "OpenAI Compatible API Endpoint for Foresight Models. Does not currently support streaming.",
        "operationId": "chat_completions_openai_chat_completions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/transform-jobs/cost-estimation": {
      "post": {
        "tags": [
          "Transform Jobs"
        ],
        "summary": "Cost Estimation",
        "description": "Estimate maximum cost for a transform job before execution",
        "operationId": "cost_estimation_transform_jobs_cost_estimation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EstimateCostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EstimateCostResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/transform-jobs": {
      "post": {
        "tags": [
          "Transform Jobs"
        ],
        "summary": "Create Transform Job",
        "description": "Create a new transform job",
        "operationId": "create_transform_job_transform_jobs_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTransformJobRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransformJob"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/transform-jobs/{job_id}": {
      "get": {
        "tags": [
          "Transform Jobs"
        ],
        "summary": "Get Transform Job",
        "description": "Get a transform job by ID",
        "operationId": "get_transform_job_transform_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransformJob"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/datasets/{dataset_id}": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Get Dataset",
        "description": "Get dataset metadata including ID and row count",
        "operationId": "get_dataset_datasets__dataset_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetMetadata"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/datasets/{dataset_id}/samples": {
      "get": {
        "tags": [
          "Datasets"
        ],
        "summary": "Get Dataset Samples",
        "description": "Get samples from a dataset with cursor-based pagination",
        "operationId": "get_dataset_samples_datasets__dataset_id__samples_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 5000,
              "minimum": 1,
              "default": 1000,
              "title": "Limit"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Cursor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedSamplesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Upload Samples",
        "description": "Upload samples to a dataset",
        "operationId": "upload_samples_datasets__dataset_id__samples_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadSamplesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadSamplesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/datasets": {
      "post": {
        "tags": [
          "Datasets"
        ],
        "summary": "Create Dataset",
        "description": "Create a new empty dataset",
        "operationId": "create_dataset_datasets_post",
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDatasetResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/samples/validate": {
      "post": {
        "tags": [
          "Samples"
        ],
        "summary": "Validate Sample",
        "description": "Validate a Sample object structure",
        "operationId": "validate_sample_samples_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Sample"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateSampleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/files": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Create File Upload",
        "description": "Get a signed upload URL for direct GCS upload",
        "operationId": "create_file_upload_files_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFileUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateFileUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/filesets/": {
      "post": {
        "tags": [
          "FileSets"
        ],
        "summary": "Create File Set",
        "description": "Create a new FileSet for the organization.",
        "operationId": "create_file_set_filesets__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFileSetRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileSet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "FileSets"
        ],
        "summary": "List File Sets",
        "description": "List all FileSets for the organization, optionally including public filesets.",
        "operationId": "list_file_sets_filesets__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "include_public",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include public filesets",
              "default": false,
              "title": "Include Public"
            },
            "description": "Include public filesets"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListFileSetsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/filesets/{file_set_id}": {
      "get": {
        "tags": [
          "FileSets"
        ],
        "summary": "Get File Set",
        "description": "Get a specific FileSet by ID.",
        "operationId": "get_file_set_filesets__file_set_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileSet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/filesets/{file_set_id}/files": {
      "post": {
        "tags": [
          "FileSets"
        ],
        "summary": "Add File To Set",
        "description": "Add a file to a FileSet by providing file information and metadata.",
        "operationId": "add_file_to_set_filesets__file_set_id__files_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Set Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFileSetFileRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileSetFile"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "FileSets"
        ],
        "summary": "List Files In Set",
        "description": "List all files in a FileSet.",
        "operationId": "list_files_in_set_filesets__file_set_id__files_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Set Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Cursor"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListFileSetFilesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/organizations/balance": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "summary": "Get Balance",
        "description": "Get the current credit balance for the organization",
        "operationId": "get_balance_organizations_balance_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BalanceResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AnswerType": {
        "properties": {
          "answer_type": {
            "$ref": "#/components/schemas/AnswerTypeEnum",
            "description": "The type of answer expected for this question"
          },
          "answer_format_instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer Format Instruction",
            "description": "Instructions describing how the answer should be formatted and given. If not set, uses default based on answer_type."
          },
          "labeler_instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Labeler Instruction",
            "description": "Custom instructions for the labeler. If not set, uses default based on answer_type."
          },
          "question_generation_instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Question Generation Instruction",
            "description": "Custom instructions for generating questions of this type. If not set, uses default based on answer_type."
          }
        },
        "type": "object",
        "required": [
          "answer_type"
        ],
        "title": "AnswerType"
      },
      "AnswerTypeEnum": {
        "type": "string",
        "enum": [
          "BINARY",
          "MULTIPLE_CHOICE",
          "CONTINUOUS",
          "FREE_RESPONSE"
        ],
        "title": "AnswerTypeEnum"
      },
      "BalanceResponse": {
        "properties": {
          "balance_dollars": {
            "type": "number",
            "title": "Balance Dollars"
          }
        },
        "type": "object",
        "required": [
          "balance_dollars"
        ],
        "title": "BalanceResponse"
      },
      "ChatCompletionRequest": {
        "properties": {
          "model": {
            "type": "string",
            "title": "Model",
            "description": "ID of the model to use"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "type": "array",
            "title": "Messages",
            "description": "A list of messages comprising the conversation so far"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Sampling temperature between 0 and 2"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Maximum number of tokens to generate"
          },
          "top_p": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Top P",
            "description": "Nucleus sampling parameter"
          },
          "stream": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stream",
            "description": "Whether to stream back partial progress",
            "default": false
          },
          "n": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "N",
            "description": "Number of chat completion choices to generate",
            "default": 1
          },
          "stop": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stop",
            "description": "Up to 4 sequences where the API will stop generating"
          }
        },
        "type": "object",
        "required": [
          "model",
          "messages"
        ],
        "title": "ChatCompletionRequest",
        "examples": [
          {
            "messages": [
              {
                "content": "Will Bitcoin increase by more than 10% over the next 3 months? Answer as a probability between 0 and 1 between <answer></answer> tags.",
                "role": "user"
              }
            ],
            "model": "LightningRodLabs/foresight-v1"
          }
        ]
      },
      "ChatCompletionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "A unique identifier for the chat completion"
          },
          "object": {
            "type": "string",
            "const": "chat.completion",
            "title": "Object",
            "description": "The object type",
            "default": "chat.completion"
          },
          "created": {
            "type": "integer",
            "title": "Created",
            "description": "Unix timestamp of when the completion was created"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "The model used for the chat completion"
          },
          "choices": {
            "items": {
              "$ref": "#/components/schemas/Choice"
            },
            "type": "array",
            "title": "Choices",
            "description": "A list of chat completion choices"
          },
          "usage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Usage"
              },
              {
                "type": "null"
              }
            ],
            "description": "Usage statistics for the completion request"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created",
          "model",
          "choices"
        ],
        "title": "ChatCompletionResponse"
      },
      "ChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "The role of the message author (system, user, or assistant)"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "The content of the message"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ChatMessage",
        "examples": [
          {
            "content": "Will the S&P 500 close above 6000 by the end of 2025?",
            "role": "user"
          }
        ]
      },
      "Choice": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index",
            "description": "The index of this choice"
          },
          "message": {
            "$ref": "#/components/schemas/ResponseMessage",
            "description": "The message generated by the model"
          },
          "finish_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finish Reason",
            "description": "The reason the model stopped generating tokens"
          }
        },
        "type": "object",
        "required": [
          "index",
          "message"
        ],
        "title": "Choice"
      },
      "CreateDatasetResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "CreateDatasetResponse"
      },
      "CreateFileSetFileRequest": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "ID of the file"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional file-level metadata"
          }
        },
        "type": "object",
        "required": [
          "file_id"
        ],
        "title": "CreateFileSetFileRequest"
      },
      "CreateFileSetRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable name for the FileSet"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the FileSet's purpose"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateFileSetRequest"
      },
      "CreateFileUploadRequest": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename",
            "description": "Original filename"
          },
          "size_bytes": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Size Bytes",
            "description": "File size in bytes"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type",
            "description": "MIME type of the file"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "size_bytes"
        ],
        "title": "CreateFileUploadRequest"
      },
      "CreateFileUploadResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "original_file_name": {
            "type": "string",
            "title": "Original File Name"
          },
          "cloud_storage_path": {
            "type": "string",
            "title": "Cloud Storage Path"
          },
          "upload_url": {
            "type": "string",
            "title": "Upload Url",
            "description": "Signed GCS upload URL for direct upload"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "File-level metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "title": "Expires At",
            "description": "When the upload URL expires"
          }
        },
        "type": "object",
        "required": [
          "id",
          "original_file_name",
          "cloud_storage_path",
          "upload_url",
          "mime_type",
          "size_bytes",
          "created_at",
          "expires_at"
        ],
        "title": "CreateFileUploadResponse"
      },
      "CreateTransformConfig": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/ForwardLookingQuestionGenerator"
          },
          {
            "$ref": "#/components/schemas/FileSetQuerySeedGenerator"
          },
          {
            "$ref": "#/components/schemas/FileSetSeedGenerator"
          },
          {
            "$ref": "#/components/schemas/GdeltSeedGenerator"
          },
          {
            "$ref": "#/components/schemas/NewsSeedGenerator"
          },
          {
            "$ref": "#/components/schemas/QuestionAndLabelGenerator"
          },
          {
            "$ref": "#/components/schemas/QuestionGenerator"
          },
          {
            "$ref": "#/components/schemas/QuestionPipeline"
          },
          {
            "$ref": "#/components/schemas/QuestionRenderer"
          },
          {
            "$ref": "#/components/schemas/WebSearchLabeler"
          }
        ],
        "discriminator": {
          "propertyName": "config_type",
          "mapping": {
            "FILESET_QUERY_SEED_GENERATOR": "#/components/schemas/FileSetQuerySeedGenerator",
            "FILESET_SEED_GENERATOR": "#/components/schemas/FileSetSeedGenerator",
            "FORWARD_LOOKING_QUESTION_GENERATOR": "#/components/schemas/ForwardLookingQuestionGenerator",
            "GDELT_SEED_GENERATOR": "#/components/schemas/GdeltSeedGenerator",
            "NEWS_SEED_GENERATOR": "#/components/schemas/NewsSeedGenerator",
            "QUESTION_AND_LABEL_GENERATOR": "#/components/schemas/QuestionAndLabelGenerator",
            "QUESTION_GENERATOR": "#/components/schemas/QuestionGenerator",
            "QUESTION_PIPELINE": "#/components/schemas/QuestionPipeline",
            "QUESTION_RENDERER": "#/components/schemas/QuestionRenderer",
            "WEB_SEARCH_LABELER": "#/components/schemas/WebSearchLabeler"
          }
        }
      },
      "CreateTransformJobRequest": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/CreateTransformConfig"
          },
          "input_dataset_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Dataset Id"
          },
          "max_questions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Questions"
          },
          "max_cost_dollars": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Cost Dollars"
          },
          "configuration_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Configuration Id"
          },
          "use_local_rate_limiter": {
            "type": "boolean",
            "title": "Use Local Rate Limiter",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "CreateTransformJobRequest"
      },
      "DatasetMetadata": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "num_rows": {
            "type": "integer",
            "title": "Num Rows"
          }
        },
        "type": "object",
        "required": [
          "id",
          "num_rows"
        ],
        "title": "DatasetMetadata"
      },
      "EstimateCostRequest": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/CreateTransformConfig"
          },
          "max_questions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Questions"
          }
        },
        "type": "object",
        "required": [
          "config"
        ],
        "title": "EstimateCostRequest"
      },
      "EstimateCostResponse": {
        "properties": {
          "total_cost_dollars": {
            "type": "number",
            "title": "Total Cost Dollars"
          },
          "llm_cost_dollars": {
            "type": "number",
            "title": "Llm Cost Dollars"
          },
          "web_search_cost_dollars": {
            "type": "number",
            "title": "Web Search Cost Dollars"
          },
          "url_download_cost_dollars": {
            "type": "number",
            "title": "Url Download Cost Dollars"
          },
          "usage": {
            "$ref": "#/components/schemas/UsageSummary"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/StepCostBreakdown"
            },
            "type": "array",
            "title": "Steps"
          }
        },
        "type": "object",
        "required": [
          "total_cost_dollars",
          "llm_cost_dollars",
          "web_search_cost_dollars",
          "url_download_cost_dollars",
          "usage",
          "steps"
        ],
        "title": "EstimateCostResponse"
      },
      "EventUsageSummary": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "default": 0
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "default": 0.0
          },
          "cached_count": {
            "type": "integer",
            "title": "Cached Count",
            "default": 0
          }
        },
        "type": "object",
        "title": "EventUsageSummary",
        "description": "Usage for a single event type."
      },
      "FileSet": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "file_count": {
            "type": "integer",
            "title": "File Count"
          },
          "indexed_file_count": {
            "type": "integer",
            "title": "Indexed File Count"
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "file_count",
          "indexed_file_count",
          "created_at",
          "updated_at"
        ],
        "title": "FileSet"
      },
      "FileSetFile": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "original_file_name": {
            "type": "string",
            "title": "Original File Name"
          },
          "cloud_storage_path": {
            "type": "string",
            "title": "Cloud Storage Path"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "character_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Character Count"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "gemini_file_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gemini File Id"
          },
          "file_created_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Created Date"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "original_file_name",
          "cloud_storage_path",
          "mime_type",
          "size_bytes",
          "character_count",
          "metadata",
          "gemini_file_id",
          "file_created_date",
          "created_at",
          "updated_at"
        ],
        "title": "FileSetFile"
      },
      "FileSetQuerySeedGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "FILESET_QUERY_SEED_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "FILESET_QUERY_SEED_GENERATOR"
          },
          "file_set_id": {
            "type": "string",
            "title": "File Set Id",
            "description": "FileSet ID to query"
          },
          "prompts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Prompts",
            "description": "List of queries to run against the fileset"
          },
          "metadata_filters": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Filters",
            "description": "Optional list of AIP-160 metadata filters to select which documents to process. Documents matching ANY filter will be included. (e.g., [\"ticker='AAL'\", \"ticker='MSFT'\"])"
          },
          "system_instruction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Instruction",
            "description": "Optional system instruction for the Gemini model"
          }
        },
        "type": "object",
        "required": [
          "file_set_id",
          "prompts"
        ],
        "title": "FileSetQuerySeedGenerator",
        "description": "Configuration for FileSet Query Seed Generator transform."
      },
      "FileSetSeedGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "FILESET_SEED_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "FILESET_SEED_GENERATOR"
          },
          "file_set_id": {
            "type": "string",
            "title": "File Set Id",
            "description": "FileSet ID to read files from"
          },
          "chunk_size": {
            "type": "integer",
            "minimum": 100.0,
            "title": "Chunk Size",
            "description": "Number of characters per chunk",
            "default": 4000
          },
          "chunk_overlap": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Chunk Overlap",
            "description": "Number of overlapping characters between consecutive chunks",
            "default": 200
          },
          "metadata_filters": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata Filters",
            "description": "Optional list of metadata filters to select which files to process. Files matching ANY filter will be included. (e.g., [\"ticker='AAL'\", \"ticker='MSFT'\"])"
          }
        },
        "type": "object",
        "required": [
          "file_set_id"
        ],
        "title": "FileSetSeedGenerator",
        "description": "Configuration for FileSet Seed Generator transform."
      },
      "FilterCriteria": {
        "properties": {
          "rubric": {
            "type": "string",
            "title": "Rubric",
            "description": "Scoring rubric/prompt for evaluating content"
          },
          "min_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Min Score",
            "description": "Minimum score threshold",
            "default": 0.5
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "Name of the model (in openrouter) to use for scoring",
            "default": "google/gemini-3-flash-preview"
          }
        },
        "type": "object",
        "required": [
          "rubric"
        ],
        "title": "FilterCriteria",
        "description": "Reusable filter criteria for LLM-based content scoring and filtering."
      },
      "ForwardLookingQuestion": {
        "properties": {
          "question_type": {
            "type": "string",
            "const": "FORWARD_LOOKING_QUESTION",
            "title": "Question Type",
            "default": "FORWARD_LOOKING_QUESTION"
          },
          "question_text": {
            "type": "string",
            "title": "Question Text"
          },
          "date_close": {
            "type": "string",
            "format": "date-time",
            "title": "Date Close"
          },
          "event_date": {
            "type": "string",
            "format": "date-time",
            "title": "Event Date"
          },
          "resolution_criteria": {
            "type": "string",
            "title": "Resolution Criteria"
          },
          "prediction_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prediction Date"
          }
        },
        "type": "object",
        "required": [
          "question_text",
          "date_close",
          "event_date",
          "resolution_criteria"
        ],
        "title": "ForwardLookingQuestion"
      },
      "ForwardLookingQuestionGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "FORWARD_LOOKING_QUESTION_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "FORWARD_LOOKING_QUESTION_GENERATOR"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions",
            "description": "Instructions for question generation. If not provided, uses sensible defaults."
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples",
            "description": "Example questions to guide generation"
          },
          "bad_examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Bad Examples",
            "description": "Examples of questions to avoid"
          },
          "filter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FilterCriteria"
              },
              {
                "items": {
                  "$ref": "#/components/schemas/FilterCriteria"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter",
            "description": "Optional filter criteria to apply after question generation"
          },
          "questions_per_seed": {
            "type": "integer",
            "title": "Questions Per Seed",
            "description": "Number of questions to generate per seed",
            "default": 1
          },
          "include_default_filter": {
            "type": "boolean",
            "title": "Include Default Filter",
            "description": "Whether to include the default filter for generated questions",
            "default": false
          },
          "answer_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnswerType"
              },
              {
                "type": "null"
              }
            ],
            "description": "The type of answer expected for generated questions"
          }
        },
        "type": "object",
        "title": "ForwardLookingQuestionGenerator"
      },
      "GdeltSeedGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "GDELT_SEED_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "GDELT_SEED_GENERATOR"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "title": "Start Date",
            "description": "Start date for seed search"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "title": "End Date",
            "description": "End date for seed search"
          },
          "interval_duration_days": {
            "type": "integer",
            "title": "Interval Duration Days",
            "description": "Duration of each interval in days"
          },
          "articles_per_interval": {
            "type": "integer",
            "title": "Articles Per Interval",
            "description": "Number of articles to fetch per interval from BigQuery",
            "default": 1000
          }
        },
        "type": "object",
        "required": [
          "start_date",
          "end_date",
          "interval_duration_days"
        ],
        "title": "GdeltSeedGenerator"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "JobUsage": {
        "properties": {
          "total": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UsageSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "by_step": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/UsageSummary"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "By Step"
          },
          "max_cost_dollars": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Cost Dollars"
          },
          "current_cost_dollars": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Cost Dollars"
          },
          "estimated_cost_dollars": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost Dollars"
          }
        },
        "type": "object",
        "title": "JobUsage",
        "description": "Aggregated usage statistics for a transform job with step breakdown."
      },
      "LLMModelUsageSummary": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "default": 0
          },
          "input_tokens": {
            "type": "integer",
            "title": "Input Tokens",
            "default": 0
          },
          "output_tokens": {
            "type": "integer",
            "title": "Output Tokens",
            "default": 0
          },
          "cost": {
            "type": "number",
            "title": "Cost",
            "default": 0.0
          },
          "cached_count": {
            "type": "integer",
            "title": "Cached Count",
            "default": 0
          }
        },
        "type": "object",
        "title": "LLMModelUsageSummary",
        "description": "Usage for a single LLM model."
      },
      "Label": {
        "properties": {
          "label": {
            "type": "string",
            "title": "Label"
          },
          "label_confidence": {
            "type": "number",
            "title": "Label Confidence"
          },
          "resolution_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolution Date"
          },
          "reasoning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning"
          },
          "answer_sources": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer Sources"
          }
        },
        "type": "object",
        "required": [
          "label",
          "label_confidence"
        ],
        "title": "Label"
      },
      "ListFileSetFilesResponse": {
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileSetFile"
            },
            "type": "array",
            "title": "Files"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "files",
          "has_more",
          "total"
        ],
        "title": "ListFileSetFilesResponse"
      },
      "ListFileSetsResponse": {
        "properties": {
          "file_sets": {
            "items": {
              "$ref": "#/components/schemas/FileSet"
            },
            "type": "array",
            "title": "File Sets"
          }
        },
        "type": "object",
        "required": [
          "file_sets"
        ],
        "title": "ListFileSetsResponse"
      },
      "ModelConfig": {
        "properties": {
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "default": "meta-llama/llama-3.3-70b-instruct"
          },
          "model_source": {
            "$ref": "#/components/schemas/ModelSourceType",
            "default": "OPEN_ROUTER"
          },
          "temperature": {
            "type": "number",
            "title": "Temperature",
            "default": 1.0
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address"
          },
          "lora_base_model_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lora Base Model Name"
          },
          "lora_repo_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lora Repo Path"
          },
          "lora_checkpoint_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lora Checkpoint Path"
          },
          "runpod_endpoint_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Runpod Endpoint Id"
          },
          "is_lightningrod_model": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Lightningrod Model"
          },
          "openrouter_provider": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Openrouter Provider"
          },
          "reasoning_effort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning Effort"
          },
          "is_reasoning_model": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Reasoning Model"
          },
          "disable_reasoning": {
            "type": "boolean",
            "title": "Disable Reasoning",
            "default": false
          },
          "use_pipeline_key": {
            "type": "boolean",
            "title": "Use Pipeline Key",
            "default": false
          }
        },
        "type": "object",
        "title": "ModelConfig"
      },
      "ModelSourceType": {
        "type": "string",
        "enum": [
          "OPENAI",
          "VLLM",
          "OPEN_ROUTER",
          "HUGGINGFACE_ENDPOINTS",
          "DEEPSEEK",
          "DEEPINFRA",
          "RUNPOD",
          "SGLANG",
          "TINKER"
        ],
        "title": "ModelSourceType"
      },
      "NewsContext": {
        "properties": {
          "context_type": {
            "type": "string",
            "const": "NEWS_CONTEXT",
            "title": "Context Type",
            "default": "NEWS_CONTEXT"
          },
          "rendered_context": {
            "type": "string",
            "title": "Rendered Context"
          },
          "search_query": {
            "type": "string",
            "title": "Search Query"
          }
        },
        "type": "object",
        "required": [
          "rendered_context",
          "search_query"
        ],
        "title": "NewsContext"
      },
      "NewsContextGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "NEWS_CONTEXT_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "NEWS_CONTEXT_GENERATOR"
          },
          "num_search_queries": {
            "type": "integer",
            "title": "Num Search Queries",
            "description": "Number of search queries to generate per question",
            "default": 5
          },
          "articles_per_query": {
            "type": "integer",
            "title": "Articles Per Query",
            "description": "Number of news articles to return per search query",
            "default": 5
          },
          "num_articles": {
            "type": "integer",
            "title": "Num Articles",
            "description": "Maximum number of news articles to include in final output",
            "default": 10
          },
          "relevance_threshold": {
            "type": "integer",
            "title": "Relevance Threshold",
            "description": "Minimum relevance rating (1-6 scale) to include article",
            "default": 2
          },
          "min_articles": {
            "type": "integer",
            "title": "Min Articles",
            "description": "Minimum number of articles to ensure",
            "default": 6
          },
          "time_delta_days": {
            "type": "integer",
            "title": "Time Delta Days",
            "description": "Number of days to look back for news articles",
            "default": 30
          },
          "enable_relevance_ranking": {
            "type": "boolean",
            "title": "Enable Relevance Ranking",
            "description": "Whether to perform LLM-based relevance ranking",
            "default": true
          }
        },
        "type": "object",
        "title": "NewsContextGenerator"
      },
      "NewsSeedGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "NEWS_SEED_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "NEWS_SEED_GENERATOR"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "title": "Start Date",
            "description": "Start date for seed search"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "title": "End Date",
            "description": "End date for seed search"
          },
          "interval_duration_days": {
            "type": "integer",
            "title": "Interval Duration Days",
            "description": "Duration of each interval in days"
          },
          "search_query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              }
            ],
            "title": "Search Query",
            "description": "Search query for news articles. If multiple queries are provided, a separate search will be done for each query."
          },
          "articles_per_search": {
            "type": "integer",
            "title": "Articles Per Search",
            "description": "Number of articles to fetch per search (max 100). Each query/domain combination is a separate search.",
            "default": 10
          },
          "filter_criteria": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FilterCriteria"
              },
              {
                "items": {
                  "$ref": "#/components/schemas/FilterCriteria"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter Criteria",
            "description": "Optional criteria for filtering news snippets before scraping"
          },
          "source_domain": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Domain",
            "description": "Optional URL source of the news articles, e.g. 'https://reuters.com/business', if multiple sources are provided, multiple searchers will be done for each interval"
          }
        },
        "type": "object",
        "required": [
          "start_date",
          "end_date",
          "interval_duration_days",
          "search_query"
        ],
        "title": "NewsSeedGenerator"
      },
      "PaginatedSamplesResponse": {
        "properties": {
          "samples": {
            "items": {
              "$ref": "#/components/schemas/Sample"
            },
            "type": "array",
            "title": "Samples"
          },
          "next_cursor": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Cursor"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "samples",
          "has_more",
          "total"
        ],
        "title": "PaginatedSamplesResponse"
      },
      "Question": {
        "properties": {
          "question_type": {
            "type": "string",
            "const": "QUESTION",
            "title": "Question Type",
            "default": "QUESTION"
          },
          "question_text": {
            "type": "string",
            "title": "Question Text"
          }
        },
        "type": "object",
        "required": [
          "question_text"
        ],
        "title": "Question"
      },
      "QuestionAndLabelGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "QUESTION_AND_LABEL_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "QUESTION_AND_LABEL_GENERATOR"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions",
            "description": "Instructions for question generation. If not provided, uses sensible defaults."
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples",
            "description": "Example questions to guide generation"
          },
          "bad_examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Bad Examples",
            "description": "Examples of questions to avoid"
          },
          "filter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FilterCriteria"
              },
              {
                "items": {
                  "$ref": "#/components/schemas/FilterCriteria"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter",
            "description": "Optional filter criteria to apply after question generation"
          },
          "questions_per_seed": {
            "type": "integer",
            "title": "Questions Per Seed",
            "description": "Number of questions to generate per seed",
            "default": 1
          },
          "include_default_filter": {
            "type": "boolean",
            "title": "Include Default Filter",
            "description": "Whether to include the default filter for generated questions",
            "default": false
          },
          "answer_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnswerType"
              },
              {
                "type": "null"
              }
            ],
            "description": "The type of answer expected for generated questions"
          }
        },
        "type": "object",
        "title": "QuestionAndLabelGenerator"
      },
      "QuestionGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "QUESTION_GENERATOR",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "QUESTION_GENERATOR"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions",
            "description": "Instructions for question generation. If not provided, uses sensible defaults."
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples",
            "description": "Example questions to guide generation"
          },
          "bad_examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Bad Examples",
            "description": "Examples of questions to avoid"
          },
          "filter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FilterCriteria"
              },
              {
                "items": {
                  "$ref": "#/components/schemas/FilterCriteria"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter",
            "description": "Optional filter criteria to apply after question generation"
          },
          "questions_per_seed": {
            "type": "integer",
            "title": "Questions Per Seed",
            "description": "Number of questions to generate per seed",
            "default": 1
          },
          "include_default_filter": {
            "type": "boolean",
            "title": "Include Default Filter",
            "description": "Whether to include the default filter for generated questions",
            "default": false
          },
          "answer_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnswerType"
              },
              {
                "type": "null"
              }
            ],
            "description": "The type of answer expected for generated questions"
          }
        },
        "type": "object",
        "title": "QuestionGenerator"
      },
      "QuestionPipeline": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "QUESTION_PIPELINE",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "QUESTION_PIPELINE"
          },
          "seed_generator": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/NewsSeedGenerator"
              },
              {
                "$ref": "#/components/schemas/GdeltSeedGenerator"
              },
              {
                "$ref": "#/components/schemas/FileSetSeedGenerator"
              },
              {
                "$ref": "#/components/schemas/FileSetQuerySeedGenerator"
              }
            ],
            "title": "Seed Generator",
            "description": "Configuration for seed generation",
            "discriminator": {
              "propertyName": "config_type",
              "mapping": {
                "FILESET_QUERY_SEED_GENERATOR": "#/components/schemas/FileSetQuerySeedGenerator",
                "FILESET_SEED_GENERATOR": "#/components/schemas/FileSetSeedGenerator",
                "GDELT_SEED_GENERATOR": "#/components/schemas/GdeltSeedGenerator",
                "NEWS_SEED_GENERATOR": "#/components/schemas/NewsSeedGenerator"
              }
            }
          },
          "question_generator": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/QuestionGenerator"
              },
              {
                "$ref": "#/components/schemas/ForwardLookingQuestionGenerator"
              },
              {
                "$ref": "#/components/schemas/QuestionAndLabelGenerator"
              }
            ],
            "title": "Question Generator",
            "description": "Configuration for question generation",
            "discriminator": {
              "propertyName": "config_type",
              "mapping": {
                "FORWARD_LOOKING_QUESTION_GENERATOR": "#/components/schemas/ForwardLookingQuestionGenerator",
                "QUESTION_AND_LABEL_GENERATOR": "#/components/schemas/QuestionAndLabelGenerator",
                "QUESTION_GENERATOR": "#/components/schemas/QuestionGenerator"
              }
            }
          },
          "labeler": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/WebSearchLabeler"
              },
              {
                "type": "null"
              }
            ],
            "description": "Configuration for labeling. Not needed when using QuestionAndLabelGenerator."
          },
          "context_generators": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/NewsContextGenerator"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Generators",
            "description": "Optional list of context generators to run before rendering"
          },
          "renderer": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/QuestionRenderer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional configuration for rendering the final prompt"
          },
          "rollout_generator": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RolloutGenerator"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional configuration for generating rollouts from multiple models"
          }
        },
        "type": "object",
        "required": [
          "seed_generator",
          "question_generator"
        ],
        "title": "QuestionPipeline"
      },
      "QuestionRenderer": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "QUESTION_RENDERER",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "QUESTION_RENDERER"
          },
          "template": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Template",
            "description": "Custom template for rendering the prompt. If not provided, dynamically builds based on available content. Supports placeholders like {question_text}, {context}, {answer_instructions}."
          },
          "answer_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnswerType"
              },
              {
                "type": "null"
              }
            ],
            "description": "The type of answer expected, used to render answer instructions"
          }
        },
        "type": "object",
        "title": "QuestionRenderer"
      },
      "RAGContext": {
        "properties": {
          "context_type": {
            "type": "string",
            "const": "RAG_CONTEXT",
            "title": "Context Type",
            "default": "RAG_CONTEXT"
          },
          "rendered_context": {
            "type": "string",
            "title": "Rendered Context"
          },
          "document_id": {
            "type": "string",
            "title": "Document Id"
          }
        },
        "type": "object",
        "required": [
          "rendered_context",
          "document_id"
        ],
        "title": "RAGContext"
      },
      "ResponseMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "The role of the message author"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "The content of the message"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ResponseMessage"
      },
      "Rollout": {
        "properties": {
          "model_name": {
            "type": "string",
            "title": "Model Name"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "parsed_output": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parsed Output"
          },
          "reasoning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning"
          }
        },
        "type": "object",
        "required": [
          "model_name",
          "content"
        ],
        "title": "Rollout",
        "description": "A single model rollout/response."
      },
      "RolloutGenerator": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "ROLLOUT_GENERATOR",
            "title": "Config Type",
            "default": "ROLLOUT_GENERATOR"
          },
          "models": {
            "items": {
              "$ref": "#/components/schemas/ModelConfig"
            },
            "type": "array",
            "title": "Models",
            "description": "Model names or ModelConfig objects"
          },
          "prompt_template": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt Template",
            "description": "Prompt template with {column} placeholders. If None, uses sample.prompt"
          },
          "input_columns": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Input Columns",
            "description": "Columns to substitute into template (from meta)"
          },
          "output_schema": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Output Schema",
            "description": "Pydantic model for structured output"
          }
        },
        "type": "object",
        "required": [
          "models"
        ],
        "title": "RolloutGenerator"
      },
      "Sample": {
        "properties": {
          "seed": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Seed"
              },
              {
                "type": "null"
              }
            ]
          },
          "question": {
            "anyOf": [
              {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/ForwardLookingQuestion"
                  },
                  {
                    "$ref": "#/components/schemas/Question"
                  }
                ],
                "discriminator": {
                  "propertyName": "question_type",
                  "mapping": {
                    "FORWARD_LOOKING_QUESTION": "#/components/schemas/ForwardLookingQuestion",
                    "QUESTION": "#/components/schemas/Question"
                  }
                }
              },
              {
                "type": "null"
              }
            ],
            "title": "Question"
          },
          "label": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Label"
              },
              {
                "type": "null"
              }
            ]
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt"
          },
          "context": {
            "anyOf": [
              {
                "items": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/NewsContext"
                    },
                    {
                      "$ref": "#/components/schemas/RAGContext"
                    }
                  ],
                  "discriminator": {
                    "propertyName": "context_type",
                    "mapping": {
                      "NEWS_CONTEXT": "#/components/schemas/NewsContext",
                      "RAG_CONTEXT": "#/components/schemas/RAGContext"
                    }
                  }
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "rollouts": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/Rollout"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rollouts"
          },
          "meta": {
            "additionalProperties": true,
            "type": "object",
            "title": "Meta",
            "default": {}
          },
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "default": true
          }
        },
        "type": "object",
        "title": "Sample"
      },
      "Seed": {
        "properties": {
          "seed_text": {
            "type": "string",
            "title": "Seed Text"
          },
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url"
          },
          "seed_creation_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Seed Creation Date"
          },
          "search_query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Query"
          }
        },
        "type": "object",
        "required": [
          "seed_text"
        ],
        "title": "Seed"
      },
      "StepCostBreakdown": {
        "properties": {
          "step_name": {
            "type": "string",
            "title": "Step Name"
          },
          "step_type": {
            "$ref": "#/components/schemas/TransformType"
          },
          "total_cost_dollars": {
            "type": "number",
            "title": "Total Cost Dollars"
          },
          "usage": {
            "$ref": "#/components/schemas/UsageSummary"
          },
          "output_count": {
            "type": "integer",
            "title": "Output Count"
          },
          "cost_per_output": {
            "type": "number",
            "title": "Cost Per Output"
          }
        },
        "type": "object",
        "required": [
          "step_name",
          "step_type",
          "total_cost_dollars",
          "usage",
          "output_count",
          "cost_per_output"
        ],
        "title": "StepCostBreakdown"
      },
      "TransformJob": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "organization_id": {
            "type": "string",
            "title": "Organization Id"
          },
          "configuration_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Configuration Id"
          },
          "status": {
            "$ref": "#/components/schemas/TransformJobStatus"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "warning_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Warning Message"
          },
          "modal_function_call_id": {
            "type": "string",
            "title": "Modal Function Call Id"
          },
          "modal_app_id": {
            "type": "string",
            "title": "Modal App Id"
          },
          "transform_config": {
            "type": "string",
            "title": "Transform Config"
          },
          "input_dataset_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Dataset Id"
          },
          "output_dataset_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Dataset Id"
          },
          "usage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JobUsage"
              },
              {
                "type": "null"
              }
            ]
          },
          "estimated_cost_dollars": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost Dollars"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "organization_id",
          "status",
          "modal_function_call_id",
          "modal_app_id",
          "transform_config",
          "input_dataset_id",
          "output_dataset_id",
          "created_at",
          "updated_at"
        ],
        "title": "TransformJob"
      },
      "TransformJobStatus": {
        "type": "string",
        "enum": [
          "RUNNING",
          "COMPLETED",
          "FAILED",
          "CANCELLED"
        ],
        "title": "TransformJobStatus"
      },
      "TransformType": {
        "type": "string",
        "enum": [
          "NEWS_SEED_GENERATOR",
          "GDELT_SEED_GENERATOR",
          "QUESTION_GENERATOR",
          "QUESTION_AND_LABEL_GENERATOR",
          "QUESTION_FILTER",
          "FORWARD_LOOKING_QUESTION_GENERATOR",
          "QUESTION_QUALITY_SCORER",
          "SCORE_FILTER",
          "FILTER_CRITERIA",
          "WEB_SEARCH_LABELER",
          "NEWS_CONTEXT_GENERATOR",
          "PIPELINE",
          "QUESTION_PIPELINE",
          "QUESTION_RENDERER",
          "ROLLOUT_GENERATOR",
          "FILESET_SEED_GENERATOR",
          "FILESET_QUERY_SEED_GENERATOR"
        ],
        "title": "TransformType"
      },
      "UploadSamplesRequest": {
        "properties": {
          "samples": {
            "items": {
              "$ref": "#/components/schemas/Sample"
            },
            "type": "array",
            "title": "Samples"
          }
        },
        "type": "object",
        "required": [
          "samples"
        ],
        "title": "UploadSamplesRequest"
      },
      "UploadSamplesResponse": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "count",
          "total"
        ],
        "title": "UploadSamplesResponse"
      },
      "Usage": {
        "properties": {
          "prompt_tokens": {
            "type": "integer",
            "title": "Prompt Tokens",
            "description": "Number of tokens in the prompt"
          },
          "completion_tokens": {
            "type": "integer",
            "title": "Completion Tokens",
            "description": "Number of tokens in the completion"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "description": "Total number of tokens used"
          }
        },
        "type": "object",
        "required": [
          "prompt_tokens",
          "completion_tokens",
          "total_tokens"
        ],
        "title": "Usage"
      },
      "UsageSummary": {
        "properties": {
          "events": {
            "additionalProperties": {
              "$ref": "#/components/schemas/EventUsageSummary"
            },
            "type": "object",
            "title": "Events",
            "default": {}
          },
          "llm_by_model": {
            "additionalProperties": {
              "$ref": "#/components/schemas/LLMModelUsageSummary"
            },
            "type": "object",
            "title": "Llm By Model",
            "default": {}
          },
          "total_cost": {
            "type": "number",
            "title": "Total Cost",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "UsageSummary",
        "description": "Flexible usage statistics by event type and LLM model."
      },
      "ValidateSampleResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "valid",
          "message"
        ],
        "title": "ValidateSampleResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WebSearchLabeler": {
        "properties": {
          "config_type": {
            "type": "string",
            "const": "WEB_SEARCH_LABELER",
            "title": "Config Type",
            "description": "Type of transform configuration",
            "default": "WEB_SEARCH_LABELER"
          },
          "confidence_threshold": {
            "type": "number",
            "title": "Confidence Threshold",
            "description": "Minimum confidence threshold for including questions",
            "default": 0.9
          },
          "answer_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AnswerType"
              },
              {
                "type": "null"
              }
            ],
            "description": "The type of answer expected, used to guide the labeler"
          },
          "resolve_redirects": {
            "type": "boolean",
            "title": "Resolve Redirects",
            "description": "Resolve redirect URLs to actual destinations",
            "default": false
          }
        },
        "type": "object",
        "title": "WebSearchLabeler"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}